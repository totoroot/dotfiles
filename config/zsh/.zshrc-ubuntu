# initialize to put dumped completion files into cache directory instead of $HOME
compinit -d ~/.cache/zsh/zcompdump-$ZSH_VERSION

# Path to your oh-my-zsh installation.
export ZSH="$HOME/.oh-my-zsh"

# Set name of the theme to load --- if set to "random", it will
# load a random theme each time oh-my-zsh is loaded, in which case,
# to know which specific one was loaded, run: echo $RANDOM_THEME
ZSH_THEME="thyme"

# Uncomment the following line to use case-sensitive completion.
# CASE_SENSITIVE="true"

# Uncomment the following line to use hyphen-insensitive completion.
# Case-sensitive completion must be off. _ and - will be interchangeable.
HYPHEN_INSENSITIVE="true"

# Uncomment the following line to enable command auto-correction.
ENABLE_CORRECTION="false"

# Uncomment the following line to display red dots whilst waiting for completion.
COMPLETION_WAITING_DOTS="true"

# Which plugins would you like to load?
# Standard plugins can be found in ~/.oh-my-zsh/plugins/*
# Custom plugins may be added to ~/.oh-my-zsh/custom/plugins/
# Example format: plugins=(rails git textmate ruby lighthouse)
# Add wisely, as too many plugins slow down shell startup.
plugins=(
  # adb # https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/adb
  # ansible # https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/ansible
  # bgnotify # https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/bgnotify
  catimg # https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/catimg
  common-aliases # https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/common-aliases
  cp # https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/cp
  docker # https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/docker
  docker-compose # https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/docker-compose
  dotenv # https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/dotenv
  extract # https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/extract
  fd # https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/fd
  # flutter # https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/flutter
  git # https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/git
  # gitfast # https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/gitfast
  # golang # https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/golang
  # helm # https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/helm
  history # https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/history
  # history-substring-search # https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/history-substring-search
  # httpie # https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/httpie
  kubectl # https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/kubectl
  # minikube # https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/minikube
  safe-paste # https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/safe-paste
  # scd # https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/scd
  thefuck # https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/thefuck
  # tmux # https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/tmux
  ubuntu # https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/ubuntu
  virtualenv # https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/virtualenv
  wd # https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/wd
)

# source oh-my-zsh config
source $ZSH/oh-my-zsh.sh


export EDITOR='micro'
export VISUAL="$EDITOR"

# combine the two most used commands for software updates to a short one for convenience
alias up="sudo apt-get update | lolcat -F 0.4 && sudo apt-get upgrade --new-pkgs && sudo apt autoremove -f"

# insert "sudo " at the beginning of the line when pressing <ALT> + <S>
function prepend-sudo {
  if [[ $BUFFER != "sudo "* ]]; then
    BUFFER="sudo $BUFFER"; CURSOR+=5
  fi
}
zle -N prepend-sudo
[[ -n "$keyinfo^" ]] && \
  bindkey "$keyinfo^[s" prepend-sudo

# set alias for improved ls and cp
alias ls="exa"
alias cp="cp -rv"

# xclip to clipboard alias
alias ccl="xclip -selection clipboard"

# edit ssh config
alias sshconfig="micro ~/.ssh/config"

# export local binaries
export PATH=$PATH:$HOME/.local/bin/

# Golang path support
export PATH=$PATH:/usr/local/go/bin
export GOPATH=$HOME/.go
export PATH=$PATH:$GOPATH/bin

# fuck command line tool
eval $(thefuck --alias)

# Flutter path support
export PATH=$PATH:$HOME/.local/share/flutter/bin

# Android SDK path support
export ANDROID_HOME=$HOME/.local/share/android/sdk

# alias to scan wireless network for connected devices
alias scan="sudo nmap -sn 192.168.8.0/24 | sed -e 's#.*for \(\)#\1#' | sed '/^Host/d' | sed '/MAC/{G;}'"

# view lines around code changes with proper syntax highlighting
batdiff() {
    git diff --name-only --diff-filter=d | xargs bat --diff
}

# nix export
if [ -e /home/matthias/.nix-profile/etc/profile.d/nix.sh ]; then . /home/matthias/.nix-profile/etc/profile.d/nix.sh; fi # added by Nix installer

# mark current directory to easily jump back to
function mark {
    export $1=`pwd`;
}
